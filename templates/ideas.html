{% extends "base.html" %}

{% block titulo %}Centro de Ideas Creativas{% endblock %}

{% block contenido %}
<div class="ideas-page">
  <h2>ğŸ’¡ Espacio Creativo: GeneraciÃ³n de Ideas e Ingresos</h2>

  <!-- Ãrea de inspiraciÃ³n -->
  <section class="inspiracion">
    <p>Piensa en proyectos, servicios, productos o soluciones que podrÃ­as ofrecer. Este es tu laboratorio creativo.</p>
    <button onclick="generarSugerencia()">Dame una sugerencia ğŸ’­</button>
    <div id="sugerencia" class="sugerencia-box"></div>
  </section>

  <!-- Formulario para nuevas ideas -->
  <form class="form-idea" method="POST" action="{{ url_for('ideas') }}">
    <input type="text" name="titulo" placeholder="TÃ­tulo de la idea" required>
    <textarea name="descripcion" rows="4" placeholder="Describe tu idea..." required></textarea>
    <input type="text" name="categoria" placeholder="CategorÃ­a (opcional)">
    <button type="submit">Guardar Idea</button>
  </form>

  <!-- Mostrar mensaje flash -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <!-- Lista de ideas guardadas -->
  <section class="lista-ideas">
    <h3>ğŸ“‹ Mis Ideas</h3>
    {% if ideas %}
      {% for idea in ideas %}
        <div class="idea-item">
          <strong>{{ idea.titulo }}</strong>
          <p>{{ idea.descripcion }}</p>
          {% if idea.categoria %}
            <span class="categoria">ğŸ“ {{ idea.categoria }}</span>
          {% endif %}
          <div class="acciones">
            <a href="{{ url_for('editar_idea', id=idea.id) }}" class="btn btn-sm btn-warning">âœï¸ Editar</a>
            <a href="{{ url_for('eliminar_idea', id=idea.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Â¿EstÃ¡s seguro de eliminar esta idea?')">ğŸ—‘ï¸ Eliminar</a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p>No tienes ideas guardadas aÃºn. Â¡Empieza ahora!</p>
    {% endif %}
  </section>
</div>

<script>
  const sugerencias = [
    "Crea un canal de YouTube sobre tus habilidades tÃ©cnicas.",
    "Ofrece asesorÃ­as personalizadas en soporte tÃ©cnico.",
    "Desarrolla una app para freelancers.",
    "Escribe un curso bÃ¡sico de mantenimiento de computadores.",
    "Haz una tienda virtual de componentes o perifÃ©ricos.",
    "Ofrece paquetes de mantenimiento preventivo a pequeÃ±as empresas.",
    "Desarrolla una pÃ¡gina de gestiÃ³n de ingresos para terceros.",
  ];

  function generarSugerencia() {
    const index = Math.floor(Math.random() * sugerencias.length);
    document.getElementById("sugerencia").innerText = sugerencias[index];
  }
</script>
{% endblock %}
